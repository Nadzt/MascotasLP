<% layout("./layouts/boilerplate") %>
<link rel="stylesheet" href="/stylesheets/register.css">

<div class="container d-flex justify-content-center align-items-center mt-5">
    <div class="row div-register">
        <div class="col-12">
            <div class="card shadow">

                <img src="https://i.pinimg.com/474x/a7/b0/e9/a7b0e9702200441a724524df907be43d.jpg" alt="" class="card-img-top" />

                <div class="card-body">
                    <form action="/registrarse" method="POST" class="needs-validation" novalidate>

                        <div class="mb-2">
                            <label class="form-label" for="username">Nombre de usuario:</label>
                            <input class="form-control input-register" type="text" name="username" id="username" maxlength="16" minlength="3" pattern="([^\s][A-z0-9À-ž\s]+[^\s])" required autofocus>
                            <p style="font-size: .8rem; font-weight: 100;">Maximo 16 caracteres</p>
                            <div class="invalid-feedback" style="font-weight: 100;">Nombre de usuario no valido</div>
                        </div>

                        <div class="mb-2">
                            <label class="form-label" for="password">Contraseña:</label>
                            <input class="form-control input-register" type="password" name="password" id="password" required minlength="5">
                            <div class="invalid-feedback" style="font-weight: 100;">La contraseña debe tener 5 o mas caracteres</div>
                        </div>

                        <div class="mb-3">
                            <label class="form-label" for="email">Correo electronico:</label>
                            <input class="form-control input-register" type="email" name="email" id="password" required>
                        </div>

                        <label class="form-label" for="location">Direccion:</label>
                        <div class="input-group mb-2">
                            <input class="form-control" type="text" name="location" id="location" required placeholder= "(Ej. 1 y 60, La Plata)">
                            <button class="btn btn-outline-success" type="button" id="locationButton">Ubicar</button>
                            <div class="invalid-feedback">Se necesita una ubicacion para buscar por cercania, esta informacion se mantiene privada</div>
                        </div>
                        
                        <div>
                            <input class="form-control mb-3" type="text" name="geometry" id="geometry" required>
                            <div class="valid-feedback"></div>
                            <div class="invalid-feedback">La direccion ingresada no pudo ubicarse en el mapa, si la aplicacion no encuentra tu ubicacion proba con una cercana o haz click en el mapa para ubicar un marcador donde quieras!
                            </div>
                        </div>

                        <div id="map-NewUser" class="mb-3"></div>
                        
                        <small class="mt-3" style="font-weight: 100;"><p> Al crear la cuenta aceptas los <a href="/views/ToS/TerminosyC.ejs">Terminos y condiciones</a> y <a href="/views/ToS/privacyPolicy.ejs">politicas de privacidad</a> </p></small>
                        <div class="d-grid">
                            <button class="btn btn-blue-color">Crear cuenta</button>
                        </div>

                    </form>
                </div>

            </div>
        </div>
    </div>  
</div>

<!-- Scripts de mapa -->
<script src="/javascripts/mapNewUser.js"></script>
<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAjjsdRanmSECqEeCwTepMC8DwTZhUq7UU&callback=initMap&v=weekly" async ></script>